<!DOCTYPE HTML>
<html>
  <head>  
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
	<script type="text/javascript" src="http://arc.id.au/Cango3D-7v09.js"></script>
        <style>
      body {
        margin: 0px;
        padding: 0px;
      }
    </style>
      
</head>
<body>
 <canvas id="canvasID" width="0" height="0" style="border:1px solid black;"></canvas>
    
    <script type="text/javascript">

    // Set CANVAS width and height
    var cvsID = "canvasID";
    setCanvasDim();

    var coordsX = -($("#"+cvsID).attr("width")/2), // bottom leftmost pixel x
        coordsY = -($("#"+cvsID).attr("height")/2), // bottom leftmost pixel y
        coordsZ = -(coordsX + coordsY);
    
    // Initialize Cango3D graphics context
    var g = new Cango3D(cvsID);
    g.setFOV(45);
    g.setPropertyDefault("backgroundColor", "lightyellow");
    g.setWorldCoords3D(coordsX, coordsY, coordsZ);
    
    // Generate Random Path Data
        var index = 0; // index for displacement array
        var displacement = [[0,0,0]]; // initialize displacement array
        generateRandPath1(); //loads displacement array with path data

    // build the object
    var cube = buildCube(g, 20, ["red","orange","yellow","green","blue","purple"]);

    // Configure animation
    var timerinterval = 20;
    var timer = setInterval(movePutter, timerinterval);



// =============================================

    function setCanvasDim(){
        width = 400;
        height = 400;
        $("#"+cvsID).attr("width", width);
        $("#"+cvsID).attr("height", height);   
    }

  function movePutter()
  {
      
    if (index > displacement.length - 2){
        index = 0;
        clearInterval(timer); // clear putt
        timer = setInterval(movePutter, timerinterval); // loop putt
    }
    
    X = displacement[index][0];
    Y = displacement[index][1];
    Z = displacement[index][2];
      
      
    //cube.transform.rotate(1,1,0,5);  
    g.setWorldCoords3D(coordsX+X, coordsY+Y, coordsZ+Z);
    index = index + 1;


    g.renderFrame(cube);

  }

  function generateRandPath2(){
    var randIter = 1,
        
        // desired displacement
        xyzdisplacement = [0,0,0]
        
        // offset for displacement
        biasXYZ = [1,1,-2],
    
        // take into account bias when incrementing world coordinates
        xincrementer = xyzdisplacement[0] + biasXYZ[0],
        yincrementer = xyzdisplacement[1] + biasXYZ[1],
        zincrementer = xyzdisplacement[2] + biasXYZ[2];
    
    for (randIter; randIter < 100; randIter = randIter + 1 ){
        xprev = displacement[randIter-1][0];
        yprev = displacement[randIter-1][1];
        zprev = displacement[randIter-1][2];
        displacement.push([xprev-xincrementer,yprev-yincrementer,zprev-zincrementer]);
    }
  }

  function generateRandPath1(){
    var randIter = 1,
        
        xincrementer = 1,
        yincrementer = 1,
        zincrementer = -2;
    for (randIter; randIter < 100; randIter = randIter + 1 ){
        xprev = displacement[randIter-1][0];
        yprev = displacement[randIter-1][1];
        zprev = displacement[randIter-1][2];
        displacement.push([xprev-xincrementer,yprev-yincrementer,zprev-zincrementer]);
    }
        xincrementer = 1,
        yincrementer = 0,
        zincrementer = 0;
    for (randIter; randIter < 200; randIter = randIter + 1 ){
        xprev = displacement[randIter-1][0];
        yprev = displacement[randIter-1][1];
        zprev = displacement[randIter-1][2];
        displacement.push([xprev-xincrementer,yprev-yincrementer,zprev-zincrementer]);
    }
        xincrementer = -1,
        yincrementer = 0,
        zincrementer = 0;
    for (randIter; randIter < 300; randIter = randIter + 1 ){
        xprev = displacement[randIter-1][0];
        yprev = displacement[randIter-1][1];
        zprev = displacement[randIter-1][2];
        displacement.push([xprev-xincrementer,yprev-yincrementer,zprev-zincrementer]);
    }
        xincrementer = -1,
        yincrementer = -1,
        zincrementer = 2;
    for (randIter; randIter < 400; randIter = randIter + 1 ){
        xprev = displacement[randIter-1][0];
        yprev = displacement[randIter-1][1];
        zprev = displacement[randIter-1][2];
        displacement.push([xprev-xincrementer,yprev-yincrementer,zprev-zincrementer]);
    }
        xincrementer = -1,
        yincrementer = -1,
        zincrementer = 2;
    for (randIter; randIter < 599; randIter = randIter + 1 ){
        xprev = displacement[randIter-1][0];
        yprev = displacement[randIter-1][1];
        zprev = displacement[randIter-1][2];
        displacement.push([xprev-xincrementer,yprev-yincrementer,zprev-zincrementer]);
    }
  }



  function buildCube(g, width, colors){
    var sq = ['M',0,0,0, 'L',width,0,0, width,width,0, 0,width,0, 'z'],
      faces = g.createGroup3D(),
      side,
      translateX = [-width/2,-width/2,-width/2,-width/2,-width/2,-width/2],
      translateY = [-width/2,-width/2,-width/2, -width/2,-width/2,-width/2],
      translateZ = [width/2,width/2,width/2,width/2,width/2,width/2],
      rotateX = [1,1,1,1,0,0],
      rotateY = [1,0,0,0,1,1],
      rotateZ = [1,0,0,0,0,0],
      rotateMag = [0,90,-90,180,90,-90],
      i;

    for (i=0; i<6; i++){
        //console.log(i)
        side = g.compileShape3D(sq, colors[i]);
        side.translate(translateX[i], translateY[i], translateZ[i]);
        side.rotate(rotateX[i], rotateY[i], rotateZ[i], rotateMag[i]);
        side.backHidden = true;
        faces.addObj(side);
    }
    
    centerX = g.compilePath3D(["M",-50,0,0, "L",50,0,0], "black", 1);
    faces.addObj(centerX);
    centerY = g.compilePath3D(["M",0,-50,0, "L",0,50,0], "black", 1);
    faces.addObj(centerY);
    centerZ = g.compilePath3D(["M",0,0,-50, "L",0,0,50], "black", 1);
    faces.addObj(centerZ);
    
    
    return faces;
  }


  </script>
    
  </body>
</html>  
