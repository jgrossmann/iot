<!DOCTYPE HTML>
<html>
  <head>  
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
	<script type="text/javascript" src="http://arc.id.au/Cango3D-7v09.js"></script>
        <style>
      body {
        margin: 0px;
        padding: 0px;
      }
    </style>
      
</head>
<body>
 <canvas id="canvasID" width="400" height="400" style="border:1px solid black;"></canvas>
    
    <script type="text/javascript">
    var g = new Cango3D("canvasID");  // create a graphics context
    var coordsX = -200, coordsY = -200, coordsZ = 400;

  g.setFOV(50);
  g.setPropertyDefault("backgroundColor", "lightyellow");
    
    var index = 0,
        displacement = [[0,0,0]];
    
    // Generate Random Data
    var randIter = 1,
        
        xincrementer = 1,
        yincrementer = 1,
        zincrementer = 3;
    for (randIter; randIter < 200; randIter = randIter + 1 ){
        xprev = displacement[randIter-1][0];
        yprev = displacement[randIter-1][1];
        zprev = displacement[randIter-1][2];
        displacement.push([xprev-zincrementer,yprev-zincrementer,zprev+zincrementer]);
    }/*
    for (randIter; randIter < 200; randIter = randIter + 1 ){
        xprev = displacement[randIter-1][0];
        yprev = displacement[randIter-1][1];
        zprev = displacement[randIter-1][2];
        displacement.push([xprev,yprev+incrementer,zprev]);
    }*/
/*
    for (randIter; randIter < 40; randIter = randIter + 1 ){
        xprev = displacement[randIter-1][0];
        yprev = displacement[randIter-1][1];
        zprev = displacement[randIter-1][2];
        displacement.push([xprev-incrementer,yprev,zprev]);
    } for (randIter; randIter < 80; randIter = randIter + 1 ){
        xprev = displacement[randIter-1][0];
        yprev = displacement[randIter-1][1];
        zprev = displacement[randIter-1][2];
        displacement.push([xprev,yprev,zprev+2*incrementer]);
    } for (randIter; randIter < 120; randIter = randIter + 1 ){
        xprev = displacement[randIter-1][0];
        yprev = displacement[randIter-1][1];
        zprev = displacement[randIter-1][2];
        displacement.push([xprev+incrementer,yprev,zprev]);
    } for (randIter; randIter < 160; randIter = randIter + 1 ){
        xprev = displacement[randIter-1][0];
        yprev = displacement[randIter-1][1];
        zprev = displacement[randIter-1][2];
        displacement.push([xprev,yprev,zprev-2*incrementer]);
    }*/

    //console.log("ITer val");
    //console.log(randIter);
    //console.log(displacement.length);


    g.setWorldCoords3D(coordsX, coordsY, coordsZ);

    var cube = buildCube(g, 20, ["red","orange","yellow","green","blue","purple"]);

    //cube.translate(0,0,0);
    var timer = setInterval(movePutter, 50);
    //g.render(cube);
    //clearInterval(movePutter, 100);

  function movePutter()
  {
      
    if (index > displacement.length - 2){
        index = 0;
        //clearInterval(timer);
        //console.log("DONE");
    }
    
    X = displacement[index][0];
    Y = displacement[index][1];
    Z = displacement[index][2];
      
    g.setWorldCoords3D(coordsX+X, coordsY+Y, coordsZ+Z);
    index = index + 1;

    cube.rotate(1,1,0,10);
    g.renderFrame(cube);
   /* newPos.x = mousePos.x-this.grabOfs.x;
    newPos.y = mousePos.y-this.grabOfs.y;
    newPos.z = mousePos.z-this.grabOfs.z;
    cube1.transform.reset();          // reset to identity matrix
    cube1.transform.translate(newPos.x, newPos.y, newPos.z);

    g.renderFrame(grp);*/
  }



function buildCube(g, width, colors) // pass width and array of 6 colors
{
  var sq = ['M',0,0,0, 'L',width,0,0, width,width,0, 0,width,0, 'z'],
      faces = g.createGroup3D(),
      side,
      translateX = [-width/2,-width/2,-width/2,-width/2,-width/2,-width/2],
      translateY = [-width/2,-width/2,-width/2, -width/2,-width/2,-width/2],
      translateZ = [width/2,width/2,width/2,width/2,width/2,width/2],
      rotateX = [1,1,1,1,0,0],
      rotateY = [1,0,0,0,1,1],
      rotateZ = [1,0,0,0,0,0],
      rotateMag = [0,90,-90,180,90,-90],
      i;

  for (i=0; i<6; i++)
  {
    //console.log(i)
    side = g.compileShape3D(sq, colors[i]);
    side.translate(translateX[i], translateY[i], translateZ[i]);
    side.rotate(rotateX[i], rotateY[i], rotateZ[i], rotateMag[i]);
    side.backHidden = true;
    faces.addObj(side);
  }
    
    centerX = g.compilePath3D(["M",-50,0,0, "L",50,0,0], "black", 1);
    faces.addObj(centerX);
    centerY = g.compilePath3D(["M",0,-50,0, "L",0,50,0], "black", 1);
    faces.addObj(centerY);
    centerZ = g.compilePath3D(["M",0,0,-50, "L",0,0,50], "black", 1);
    faces.addObj(centerZ);
    
    
  return faces;
}


    </script>
    
  </body>
</html>  
